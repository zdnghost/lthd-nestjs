<div class="box register">
  <span class="borderLine register"></span>
  <form method="post" action="/auth/register">
    <h2>Đăng ký</h2>
    {{#if error}}
    <div class="mt-4 text-sm text-red-400 bg-red-900/50 border border-red-500 p-2 rounded text-center">
      {{error}}
    </div>
    {{/if}}
    <div class="inputBox">
      <input type="text" name="username" value="{{username}}" required="required">
      <span>Tài khoản *</span>
      <i></i>
    </div>
    <div class="inputBox">
      <input id="password" type="password" name="password" required="required">
      <span>Mật khẩu *</span>
      <i></i>
      <button type="button" id="togglePwd" class="togglePwd">Hiện</button>
    </div>
    <div class="inputBox">
      <input type="text" name="firstName" value="{{firstName}}">
      <span>Họ</span>
      <i></i>
    </div>
    <div class="inputBox">
      <input type="text" name="lastName" value="{{lastName}}">
      <span>Tên</span>
      <i></i>
    </div>
    <input type="submit" value="Đăng ký">
    <p class="form-switch-link">
      Đã có tài khoản?
      <a href="/login">Đăng nhập ngay</a>
    </p>
  </form>
</div>
<script>
  (function(){
    const pwd = document.getElementById('password');
    const btn = document.getElementById('togglePwd');
    if (!pwd || !btn) return;
    btn.addEventListener('click', () => {
      const show = pwd.type === 'password';
      pwd.type = show ? 'text' : 'password';
      btn.textContent = show ? 'Ẩn' : 'Hiện';
    });
  })();
</script>