<div class="box">
  <span class="borderLine"></span>
  <form method="post" action="/auth/login">
    <h2>Đăng nhập</h2>
    {{#if error}}
    <div class="mt-4 text-sm text-red-400 bg-red-900/50 border border-red-500 p-2 rounded text-center">
      {{error}}
    </div>
    {{/if}}
    <div class="inputBox">
      <input type="text" name="username" required="required">
      <span>Tài khoản</span>
      <i></i>
    </div>
    <div class="inputBox">
      <input id="password" type="password" name="password" required="required">
      <span>Mật khẩu</span>
      <i></i>
      <button type="button" id="togglePwd" class="togglePwd">Hiện</button>
    </div>
    <input type="submit" value="Đăng nhập">
    <p class="form-switch-link">
      Chưa có tài khoản?
      <a href="/register">Đăng ký ngay</a>
    </p>
  </form>
</div>

<script>
(function(){
  const pwd = document.getElementById('password');
  const btn = document.getElementById('togglePwd');
  if (!pwd || !btn) return;
  btn.addEventListener('click', () => {
    const show = pwd.type === 'password';
    pwd.type = show ? 'text' : 'password';
    btn.textContent = show ? 'Ẩn' : 'Hiện';
  });
})();
</script>